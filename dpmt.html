<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Student Dashboard</title>
  <style>
    body {
      margin: 0;
      font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
      display: flex;
      background: linear-gradient(to bottom right, #4b0082, #ffd700);
      color: #4b0082;
      background-size: cover;
    }

    /* Sidebar */
    .sidebar {
      width: 250px;
      background: #4b0082;
      color: white;
      height: 100vh;
      position: fixed;
      top: 0;
      left: 0;
      padding-top: 20px;
      transition: transform 0.3s ease;
      z-index: 1001;
    }

    .sidebar h2 {
      text-align: center;
      margin-bottom: 20px;
    }

    .sidebar ul {
      list-style: none;
      padding: 0;
    }

    .sidebar ul li {
      padding: 15px;
      cursor: pointer;
      border-bottom: 1px solid #34495e;
    }

    .sidebar ul li:hover {
      background: rgb(209, 179, 6);
    }

    /* Content area */
    .content {
      margin-left: 250px;
      padding: 40px;
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      transition: margin-left 0.3s ease;
    }

    /* Card */
    .card {
      background: white;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      padding: 30px;
      width: 600px;
      max-width: 90%;
      text-align: center;
    }

    .card img {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      object-fit: cover;
      margin-bottom: 20px;
      border: 3px solid #1abc9c;
    }
    .live {
        position: absolute;
        display: flex;
        width: 10px;
        height: 10px;
        border-radius: 50%;
        object-fit: cover;
        background-color: #00ff00;
        margin-left: 23em;
        margin-top: 1em;
        box-shadow: 0 0 8px #00ff00;
    }

    .section {
      display: none;
    }

    .section.active {
      display: block;
    }

    h3 {
      color: #2c3e50;
      margin-bottom: 15px;
    }

    /* Progress bars */
    .progress-container {
      margin: 15px 0;
      text-align: left;
    }

    .progress-label {
      margin-bottom: 5px;
      font-weight: bold;
    }

    .progress-bar {
      background: #ddd;
      border-radius: 20px;
      overflow: hidden;
      height: 20px;
    }

    .progress-fill {
      background: #1abc9c;
      height: 100%;
      width: 0;
      transition: width 0.5s ease;
    }

    /* Hamburger button */
    .hamburger {
      display: none;
      position: fixed;
      top: 15px;
      left: 15px;
      font-size: 24px;
      background: #4b0082;
      color: white;
      border: none;
      padding: 10px;
      cursor: pointer;
      z-index: 1002;
    }

    /* Overlay */
    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease;
      z-index: 1000;
    }

    .overlay.active {
      opacity: 1;
      visibility: visible;
    }
    #completeFirstSemester {
  margin-top: 10px;
  padding: 8px 12px;
  background: #1abc9c;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
}

#completeFirstSemester:hover {
  background: #16a085;
}
.indicator {
  display: inline-block;
  width: 10px;
  height: 10px;
  margin-left: 8px;
  border-radius: 50%;
  background: gray; /* default (offline) */
}

.indicator.live {
  background: red; /* live color */
  box-shadow: 0 0 8px red; /* glowing effect */
}
.doc-viewer {
  margin: 15px 0;
  border: 1px solid #ccc;
  border-radius: 8px;
  overflow: hidden;
}


/* Container */
.profile-card {
  display: inline-flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
  font-family: Arial, sans-serif;
}

/* Circular avatar */
.profile-pic {
  position: relative;
  width: 140px;
  height: 140px;
  border-radius: 50%;
  overflow: hidden;
  border: 3px solid #1abc9c;
  background: #eaf6f3;
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(0,0,0,0.08);
}

/* Image fills the circle */
.profile-pic img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: none; /* hidden until user uploads */
}

/* Placeholder avatar (head + body) */
.avatar-placeholder {
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  background: linear-gradient(180deg, #d9eef0 0%, #f5fbfc 100%);
}

.avatar-icon {
  width: 56px;
  height: 56px;
  position: relative;
}
.avatar-icon .head {
  position: absolute;
  top: 0;
  left: 50%;
  width: 22px;
  height: 22px;
  background: #8fa3ad;
  border-radius: 50%;
  transform: translateX(-50%);
}
.avatar-icon .body {
  position: absolute;
  bottom: 0;
  left: 50%;
  width: 48px;
  height: 28px;
  background: #8fa3ad;
  border-radius: 24px 24px 6px 6px;
  transform: translateX(-50%);
}

/* Add (+) badge */
.add-badge {
  position: absolute;
  right: 6px;
  bottom: 6px;
  width: 34px;
  height: 34px;
  border-radius: 50%;
  border: none;
  background: #1abc9c;
  color: #fff;
  font-size: 20px;
  line-height: 34px;
  text-align: center;
  cursor: pointer;
  box-shadow: 0 0 0 2px #fff, 0 6px 12px rgba(0,0,0,0.15);
  transition: transform 0.1s ease;
}
.add-badge:hover { transform: scale(1.05); }

/* Action buttons */
.profile-actions {
  display: flex;
  gap: 8px;
}

.btn {
  padding: 8px 12px;
  border-radius: 6px;
  border: none;
  background: #1abc9c;
  color: #fff;
  font-weight: 600;
  cursor: pointer;
}
.btn:hover { background: #16a085; }

.btn-outline {
  background: transparent;
  color: #1abc9c;
  border: 2px solid #1abc9c;
}
.btn-outline:hover {
  background: #e8f6f3;
}

/* Accessibility focus */
.add-badge:focus,
.btn:focus {
  outline: 3px solid rgba(26,188,156,0.35);
  outline-offset: 2px;
}
.exam-btn{
    padding: 8px 12px;
  border-radius: 6px;
  border: none;
  background: #1abc9c;
  color: #fff;
  font-weight: 600;
  cursor: pointer;
}
.exam-btn a{
  text-decoration: none;
  color: #fff;
}

    /* Responsive */
    @media (max-width: 768px) {
      .sidebar {
        transform: translateX(-100%);
      }

      .sidebar.active {
        transform: translateX(0);
      }

      .content {
        margin-left: 0;
      }

      .hamburger {
        display: block;
      }
      .card {
        position: absolute;
        display: flex;
        max-width: 80%;
        margin-left: 0%;
      }
    }
    .bg{
      position: absolute;
      display: inline-flex;
      background-color: #4b0082;
      width: 100%;
      height: 80px;
    }
    .chek{
      position: absolute;
      display: flex;
      margin-left: 85%;
      margin-top: 20px;
      border: none;
      color: gold;
      background-color: #4b0082;
      font-size: large;
      font-family: Arial, Helvetica, sans-serif;
    }
    .chek a{
      text-decoration: none;
      color: gold;
    }
  </style>
</head>
<body>
  
  <!-- Hamburger button -->
  <button class="hamburger" id="hamburger">☰</button>

  <div class="bg">
    <button class="chek"><a href="my_vscode.html">Sign Out</a></button> 
  </div>
  <!-- Sidebar -->
  <div class="sidebar" id="sidebar">
  <h2>Dashboard</h2>
  <ul>
    <li onclick="showSection('profile')">Student Profile</li>
    <li onclick="showSection('courses')">Courses</li>
    <li onclick="showSection('timetable')">Time Table</li>
    <li onclick="showSection('test')">Test</li>
    <li onclick="showSection('assignment')">Assignment</li>
    <li onclick="showSection('fees')">School Fees</li>
    <li onclick="showSection('result')">Result</li>
    <li onclick="showSection('exam')">Examination</li>
    <li onclick="showSection('events')">Events</li>
    <li onclick="showSection('cash')">Cash Earned</li>
    <li onclick="showSection('lecture')">
      Live Lecture 
      <span id="liveIndicator" class="indicator"></span>
    </li>
  </ul>
</div>


  <!-- Overlay -->
  <div class="overlay" id="overlay"></div>

  <!-- Content -->
  <div class="content">
    <div class="card">
        <div class="live"></div>
      <!-- Profile Picture Component -->
<div class="profile-card">
  <div class="profile-pic" id="profilePic">
    <img id="profileImg" src="" alt="Profile Picture" aria-hidden="true">
    <div class="avatar-placeholder" id="avatarPlaceholder">
      <div class="avatar-icon">
        <span class="head"></span>
        <span class="body"></span>
      </div>
    </div>
    <button class="add-badge" id="addBadge" aria-label="Add photo">+</button>
  </div>

  <div class="profile-actions">
    <button class="btn" id="changePhotoBtn">Change photo</button>
    <button class="btn btn-outline" id="removePhotoBtn">Remove</button>
  </div>

  <!-- Hidden file input -->
  <input type="file" id="uploadPic" accept="image/*" style="display:none;">
</div>


      <!-- Sections -->
      <div id="profile" class="section active">
        <h3>Student Profile</h3>
        <p><strong>Full Name:</strong> Thomas Ashikem</p>
        <p><strong>ID/Reg No:</strong> 12345</p>
        <p><strong>Age:</strong> 20</p>
        <p><strong>State of Origin:</strong> Lagos</p>
        <p><strong>L.G.A:</strong> Ikeja</p>
        <p><strong>Nationality:</strong> Nigerian</p>
        <p><strong>Referrer ID:</strong> JFOWAL1</p>
        <p><strong>Your Referrer ID:</strong> TFOWAL2</p>
      </div>

  <div id="courses" class="section">
  <h3>Courses</h3>

  <!-- First Semester -->
  <h4>First Semester</h4>
  <div class="doc-viewer">
    <iframe src="#" width="50%" height="400px"></iframe>
  </div>
  <div class="doc-viewer">
    <iframe src="#" width="50%" height="400px"></iframe>
  </div>
  <div class="doc-viewer">
    <iframe src="#" width="50%" height="400px"></iframe>
  </div>

  <!-- Progress bar for First Semester -->
  <div class="progress-container">
    <div class="progress-label">First Semester Completion</div>
    <div class="progress-bar">
      <div id="firstSemesterProgress" class="progress-fill"></div>
    </div>
  </div>
  <button id="completeFirstSemester">Mark First Semester Complete</button>

  <!-- Second Semester (locked initially) -->
  <h4>Second Semester</h4>
  <div id="secondSemester" style="opacity:0.5; pointer-events:none;">
    <div class="doc-viewer">
      <iframe src="#" width="50%" height="400px"></iframe>
    </div>
    <div class="doc-viewer">
      <iframe src="#" width="50%" height="400px"></iframe>
    </div>
    <div class="doc-viewer">
      <iframe src="#" width="50%" height="400px"></iframe>
    </div>
  </div>
</div>


  <!-- Progress bar for First Semester -->
  


      <div id="timetable" class="section">
        <h3>Time Table</h3>
        <p><strong>Week:</strong> Physics, Chemistry, Math</p>
        <p><strong>Today:</strong> Physics</p>
      </div>

        <div id="test" class="section"> 
            <h3>Test</h3> 
            <p>Math Test – Wednesday</p> 
            <div class="progress-container"> 
                <div class="progress-label">Completion</div> 
                <div class="progress-bar">
                    <div class="progress-fill" style="width:70%"></div>
                </div> 
            </div> 
    </div>
    <div id="assignment" class="section"> 
        <h3>Assignment</h3> 
        <p>Physics Assignment – Due Thursday</p> 
        <div class="progress-container"> 
            <div class="progress-label">Completion</div> 
            <div class="progress-bar">
                <div class="progress-fill" style="width:50%"></div>
            </div> 
        </div> 
</div>

      <div id="fees" class="section"> 
        <h3>School Fees</h3> 
        <p>Total Fees: ₦150,000</p> 
    </div> 
    <div id="result" class="section"> 
        <h3>Result</h3> 
        <p>Test: 80%</p> 
        <p>Assignment: 85%</p> 
        <p>Exam: 75%</p>
    </div>
      <!--<div class="progress-container">
  <div class="progress-label">Test Completion</div>
  <div class="progress-bar">
    <div id="testProgress" class="progress-fill"></div>
  </div>
</div>

<div class="progress-container">
  <div class="progress-label">Assignment Completion</div>
  <div class="progress-bar">
    <div id="assignmentProgress" class="progress-fill"></div>
  </div>
</div>

<div class="progress-container">
  <div class="progress-label">Exam Completion</div>
  <div class="progress-bar">
    <div id="examProgress" class="progress-fill"></div>
  </div>
</div>-->


      <div id="exam" class="section">
        <h3>Examination</h3>
        <p>Math Exam – 12th Jan</p>
        <p>English Exam – 15th Jan</p>
        <button class="exam-btn"><a href="exam.html">Start Exam</a></button>
      </div>

      <div id="events" class="section">
        <h3>Events</h3>
        <p>School Cultural Day – 20th Jan</p>
      </div>

      <div id="cash" class="section">
        <h3>Cash Earned</h3>
        <p>₦5,000 earned from completed tasks</p>
      </div>

      <div id="lecture" class="section">
        <h3>Live Lecture</h3>
        <p id="lectureStatus">Checking live class status...</p>
        <div id="lectureLink" style="display:none;">
    <a href="https://zoom.us/j/123456789" target="_blank">Join Zoom Lecture</a>
  </div>
</div>

    </div>
  </div>

  <!-- JavaScript -->
  <script>
  function showSection(sectionId) {
    const sections = document.querySelectorAll('.section');
    sections.forEach(sec => sec.classList.remove('active'));
    document.getElementById(sectionId).classList.add('active');

    // Close sidebar and overlay on mobile after clicking
    sidebar.classList.remove("active");
    overlay.classList.remove("active");
  }

  const hamburger = document.getElementById("hamburger");
  const sidebar = document.getElementById("sidebar");
  const overlay = document.getElementById("overlay");

  hamburger.addEventListener("click", () => {
    sidebar.classList.toggle("active");
    overlay.classList.toggle("active");
  });

  overlay.addEventListener("click", () => {
    sidebar.classList.remove("active");
    overlay.classList.remove("active");
  });


  function animateProgress(barId, targetPercent, callback) {
    const bar = document.getElementById(barId);
    let current = 0;
    const interval = setInterval(() => {
      if (current <= targetPercent) {
        bar.style.width = current + "%";
        current++;
      } else {
        clearInterval(interval);
        if (callback) callback();
      }
    }, 20);
  }

  const completeBtn = document.getElementById("completeFirstSemester");
  const secondSemester = document.getElementById("secondSemester");

  completeBtn.addEventListener("click", () => {
    animateProgress("firstSemesterProgress", 100, () => {
      secondSemester.style.opacity = "1";
      secondSemester.style.pointerEvents = "auto";
      completeBtn.disabled = true;
      completeBtn.innerText = "First Semester Completed ✅";
    });
  });

  // Example lecture schedule (24-hour format)
  const lectureSchedule = [
    { day: 1, start: "10:00", end: "12:00" }, // Monday 10am–12pm
    { day: 4, start: "06:00", end: "18:00" }, // Wednesday 2pm–4pm
    { day: 5, start: "09:00", end: "11:00" } // Friday 9am–11am
  ];

  function checkLiveLecture() {
    const now = new Date();
    const currentDay = now.getDay(); // 0=Sunday, 1=Monday...
    const currentTime = now.getHours() + ":" + String(now.getMinutes()).padStart(2, "0");

    let isLive = false;

    lectureSchedule.forEach(lecture => {
      if (lecture.day === currentDay) {
        if (currentTime >= lecture.start && currentTime <= lecture.end) {
          isLive = true;
        }
      }
    });

    const indicator = document.getElementById("liveIndicator");
    if (isLive) {
      indicator.classList.add("live");
    } else {
      indicator.classList.remove("live");
    }
  }

  // Run check when page loads
  checkLiveLecture();

  // Re-check every minute
  setInterval(checkLiveLecture, 60000);


  const profilePic = document.getElementById('profilePic');
  const profileImg = document.getElementById('profileImg');
  const avatarPlaceholder = document.getElementById('avatarPlaceholder');
  const addBadge = document.getElementById('addBadge');
  const uploadPic = document.getElementById('uploadPic');
  const changePhotoBtn = document.getElementById('changePhotoBtn');
  const removePhotoBtn = document.getElementById('removePhotoBtn');

  // Open file picker when clicking badge or circle
  function openPicker() {
    uploadPic.click();
  }

  addBadge.addEventListener('click', (e) => {
    e.stopPropagation();
    openPicker();
  });

  profilePic.addEventListener('click', openPicker);
  changePhotoBtn.addEventListener('click', openPicker);

  // Preview selected image
  uploadPic.addEventListener('change', () => {
    const file = uploadPic.files[0];
    if (!file) return;

    // Basic file type guard
    if (!file.type.startsWith('image/')) {
      alert('Please select a valid image file (jpg, png, gif).');
      uploadPic.value = '';
      return;
    }

    const reader = new FileReader();
    reader.onload = (e) => {
      profileImg.src = e.target.result;
      profileImg.style.display = 'block';
      avatarPlaceholder.style.display = 'none';
    };
    reader.readAsDataURL(file);
  });

  // Remove photo and restore placeholder
  removePhotoBtn.addEventListener('click', () => {
    profileImg.src = '';
    profileImg.style.display = 'none';
    avatarPlaceholder.style.display = 'grid';
    uploadPic.value = '';
  });

</script>

</body>
</html>